---
import 'photoswipe/style.css';

interface Props {
  img: string
}

const { img } = Astro.props

const GALLERY_IMAGES = [
  {
    id: 1,
    alt: "Foto del consultorio Harmony Dental Clinic",
    width: 1600,
    height: 1200,
    span: "col-span-4",
  },
  {
    id: 2,
    alt: "Foto del consultorio Harmony Dental Clinic",
    width: 1200,
    height: 1600,
    span: "col-span-6",
  },
  {
    id: 3,
    alt: "Foto del consultorio Harmony Dental Clinic",
    width: 1600,
    height: 1200,
    span: "col-span-6",
  },
  {
    id: 4,
    alt: "Foto del consultorio Harmony Dental Clinic",
    width: 1200,
    height: 1600,
    span: "col-span-4",
  },
  {
    id: 5,
    alt: "Foto del consultorio Harmony Dental Clinic",
    width: 1200,
    height: 1600,
    span: "col-span-4",
  },
  {
    id: 6,
    alt: "Foto del consultorio Harmony Dental Clinic",
    width: 1600,
    height: 1200,
    span: "col-span-6",
  },
]
---

<div class="w-full grid grid-cols-10 auto-rows-[10rem] gap-4 place-content-center md:auto-rows-[10rem]" id="gallery">
  {
    Array.from({ length: 6 }).map((_, i) => (
    <a 
      class={`rounded-xl shadow-xl overflow-hidden ${GALLERY_IMAGES[i].span} img-c transition-shadow aspect-auto`}
      href={`/${img}-${i + 1}.jpeg`} 
      data-cropped="true"
      data-pswp-width={`${GALLERY_IMAGES[i].width}`} 
      data-pswp-height={`${GALLERY_IMAGES[i].height}`}
      target="_blank"
    >
      <img 
        src={`/${img}-${i + 1}.webp`}
        alt={GALLERY_IMAGES[i].alt}
        loading="lazy"
        class="rounded-lg relative object-cover w-full h-full"
      >
    </a>
    ))
  }
</div>

<script>
  import PhotoSwipeLightbox from 'photoswipe/lightbox';

  const lightbox = new PhotoSwipeLightbox({
    gallery: '#gallery',
    children: 'a',
    pswpModule: () => import('photoswipe'), 
  });
  lightbox.init();
  </script>

  <style>
    .img-c {
    transition: all 0.2s ease-in-out;
  }
  .img-c:hover {
    -webkit-box-shadow: 0px 0px 27px 17px rgb(219,182,115);
    -moz-box-shadow: 0px 0px 27px 17px rgb(219,182,115);
    box-shadow: 0px 0px 27px 17px rgb(219,182,115);
    transition: all 0.2s ease-in-out;
  }
</style>